import{U as L,r as p,w as x,q as b,z as a,C as t,M as i,v as m,x as r,a8 as V,X as P,a2 as B,E as D,n as _,a as k,aq as A,ar as N,K as R,L as $,V as q,as as z,ad as T,W as F,a3 as K,a4 as M,$ as O,at as S}from"./index-CjM2ZCf2.js";import{E as W,a as X}from"./tab-pane-RHqxzkb9.js";import"./index-Bbv-URMj.js";const j={class:"user-info_container layout-content"},G={class:"user-box"},H={class:"right-box"},J={class:"nickname"},Q={class:"level-gender"},Y={class:"level"},Z={class:"attention-fans"},aa={class:"item"},ea={class:"item"},sa={class:"signature"},oa={__name:"UserInfo",setup(ta){const f=V(),v=P(),e=p({profile:{}}),y=p([]),g=p("playlist");x(()=>f.params.uid,()=>{C(f.params.uid)},{immediate:!0});async function w(s){const l=await S({uid:s});y.value=l.playlist}async function C(s){const{startLoading:l,stopLoading:u}=q();try{l();const n=await z({uid:s});e.value=n,w(s);const c=new Image;c.src=n.profile.avatarUrl,c.crossOrigin="Anonymous",c.onload=async()=>{const d=await new T().getColor(c);F(d),document.documentElement.style.setProperty("--body-before-opacity",1)}}catch{v.back()}finally{u()}}function U(s){v.push(`/playlistDetail/${s.id}`)}return(s,l)=>{const u=B,n=D,c=K,h=M,d=O,E=X,I=W;return _(),b("div",j,[a("div",G,[t(u,{class:"avatar",src:e.value.profile.avatarUrl},null,8,["src"]),a("div",H,[a("h3",J,i(e.value.profile.nickname),1),a("div",Q,[a("span",Y," LV."+i(e.value.level),1),e.value.profile.gender===1?(_(),m(n,{key:0,color:"#32a9fc"},{default:r(()=>[t(k(A))]),_:1})):(_(),m(n,{key:1,color:"#fca7ea"},{default:r(()=>[t(k(N))]),_:1}))]),a("div",Z,[a("span",aa,"关注 "+i(e.value.profile.follows),1),a("span",ea,"粉丝 "+i(e.value.profile.followeds),1)]),a("div",sa," 简介："+i(e.value.profile.signature),1)])]),t(I,{modelValue:g.value,"onUpdate:modelValue":l[0]||(l[0]=o=>g.value=o),class:"tabs-view"},{default:r(()=>[t(E,{lazy:"",label:"歌单",name:"playlist"},{default:r(()=>[t(d,{gutter:30},{default:r(()=>[(_(!0),b(R,null,$(y.value,o=>(_(),m(h,{key:o.id,span:4},{default:r(()=>[t(c,{"cover-url":o.coverImgUrl,"play-count":o.playCount,name:o.name,onClick:la=>U(o)},null,8,["cover-url","play-count","name","onClick"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}},ia=L(oa,[["__scopeId","data-v-b3a54afb"]]);export{ia as default};
